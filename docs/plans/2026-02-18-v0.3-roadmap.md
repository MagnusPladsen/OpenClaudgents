# v0.3 Roadmap — Remaining Feature Issues

> **For Claude:** Use this as a reference for what to work on next. Each item maps to a GitHub issue.

**Goal:** Bring OpenClaudgents to feature parity with Claude Code CLI for the most impactful user-facing features.

**Current version:** v0.2.0-pre (released 2026-02-18)

---

## Priority 1 — Core CLI Parity

### Issue #12: Permission/approval prompts for tool execution
**Why:** Claude Code asks permission before file writes, shell commands, etc. Our GUI silently auto-approves everything — users have no control.
**Scope:**
- Intercept `tool_use` events from the stream that require approval
- Show an approval dialog with: tool name, arguments, approve/deny buttons
- Send the approval/denial back to the CLI process
- Add "always allow" per-tool-type toggle in settings
**Files likely involved:** `stream_parser.rs`, `process.rs`, `chatStore.ts`, new `ApprovalDialog.tsx` component

### Issue #13: Extended thinking blocks display
**Why:** Claude's thinking/reasoning is hidden. Showing it helps users understand decisions.
**Scope:**
- Parse `thinking` content blocks from stream events
- Render as collapsible sections in `MessageBubble.tsx`
- Styled differently from regular content (muted, italic, or bordered)
**Files likely involved:** `MessageBubble.tsx`, `types.ts`, `stream_parser.rs`

### Issue #14: @file context mentions in composer
**Why:** Claude Code lets you `@filename` to add file context. Our composer has no equivalent.
**Scope:**
- Detect `@` in composer text, show file autocomplete dropdown
- Read file contents and prepend to message (or use CLI's native @file support)
- Show file pills/chips in the composer for selected files
**Files likely involved:** `Composer.tsx`, new file picker logic, `tauri.ts` (file listing command)

### Issue #18: Message copy button and search in chat
**Why:** Can't copy individual messages or search conversation history.
**Scope:**
- Copy button on hover for each message bubble
- Cmd+F search within current chat (highlight matches, jump between)
**Files likely involved:** `MessageBubble.tsx`, `MessageList.tsx`, `chatStore.ts`

---

## Priority 2 — Power User Features

### Issue #15: Image/screenshot input support
**Why:** Claude supports vision. Users should be able to paste/drag images into the composer.
**Scope:**
- Handle paste events with image data in Composer
- Handle drag-and-drop of image files
- Convert to base64 and send as image content blocks
- Show image thumbnail previews in composer before sending
**Files likely involved:** `Composer.tsx`, `tauri.ts`, `types.ts`

### Issue #16: Inline diff comments for code review
**Why:** Codex app has inline commenting on diffs. We show diffs but can't annotate them.
**Scope:**
- Add comment/annotation capability to `MonacoDiffViewer`
- Click on a line to add a comment
- Store comments in session state
- Optionally send comments back to Claude as context
**Files likely involved:** `MonacoDiffViewer.tsx`, `DiffViewer.tsx`, new comment state

### Issue #17: Hunk-level git staging
**Why:** Currently staging is all-or-nothing. Power users want to stage individual hunks.
**Scope:**
- Parse diffs into hunks in the diff viewer
- Add checkbox per hunk for selective staging
- `git add -p` equivalent via Rust backend
- Show staged vs unstaged state
**Files likely involved:** `commands/git.rs`, `DiffViewer.tsx`, `GitStatusBar.tsx`

---

## Completed (closed)

- ~~#19: Plan mode toggle~~ — Implemented in Composer
- ~~#20: Slash commands autocomplete~~ — Implemented in Composer
- ~~#21: UI scaling~~ — All clickable elements scaled up
- ~~#22: WelcomeScreen overhaul~~ — Arrow keys, tab autocomplete, git badges, file picker

---

## Build & Test Reminder

```bash
pnpm tauri build    # Full production build
pnpm tauri dev      # Dev mode with hot-reload
```
